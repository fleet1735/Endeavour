PS D:\GoogleDrive\Endeavour> # ==== 보안·로그·캐시·리포트·Archives 관리 규칙 일괄 보강 (2025-10-04) ====
PS D:\GoogleDrive\Endeavour> Set-Location "D:\GoogleDrive\Endeavour"
PS D:\GoogleDrive\Endeavour>
PS D:\GoogleDrive\Endeavour> # 1. IPD.md 보강
PS D:\GoogleDrive\Endeavour> $ipdUpdate = @'
>> ### 📑 로그 및 캐시 관리 원칙 (2025-10-04 보강)
>> - 로그 정리 스크립트는 PowerShell에서 **수동 실행**하는 것을 원칙으로 한다.
>> - PowerShell 프로필($PROFILE)에는 등록하지 않는다. (자동 실행 시 Git 커밋 과부하 방지)
>> - data/cache/* 파일은 Git 추적 대상에서 제외한다. (언제든 data_handler 실행으로 재생성 가능)
>> '@
PS D:\GoogleDrive\Endeavour> Add-Content -Encoding UTF8 "docs\IPD.md" "`r`n$ipdUpdate"
PS D:\GoogleDrive\Endeavour>
PS D:\GoogleDrive\Endeavour> # 2. Endeavour_Operating_Protocol.md 보강
PS D:\GoogleDrive\Endeavour> $protocolUpdate = @'
>> ### 🔐 보안·운영 관리 규칙 (2025-10-04 보강)
>> - 보안 키 관리
>>   - 민감한 API Key는 반드시 **Git 추적 제외** 처리한다. (Archives/API_Key/* 금지)
>>   - 운용 시 API Key는 로컬 환경변수 또는 보안 경로(D:\SecureKeys)에서 불러온다.
>>   - 코드에는 키를 직접 포함하지 않고, 환경변수/로컬 config 호출 방식을 사용한다.
>>   - API Key는 외부 공유 불가, 필요 시 재발급받는다.
>>
>> - 보고/리포트 관리
>>   - reports 폴더 산출물(예: data_quality/validation_*.csv)은 **Git에 보존**한다.
>>   - logs 폴더는 Git 추적 제외. (30일 보존, 180일 삭제)
>>
>> - Archives 관리
>>   - 완료된 작업 지시서 및 불필요 중복 문서는 **Archives/** 하위로 이동한다.
>>   - 현재 Iteration_1_WorkOrder.md는 Legacy_Docs에 보관 중.
>> '@
PS D:\GoogleDrive\Endeavour> Add-Content -Encoding UTF8 "docs\Endeavour_Operating_Protocol.md" "`r`n$protocolUpdate"
PS D:\GoogleDrive\Endeavour>
PS D:\GoogleDrive\Endeavour> # 3. Migration_pack.md 보강
PS D:\GoogleDrive\Endeavour> $handoffUpdate = @'
>> ### 📦 세션 인수인계 지침 보강 (2025-10-04)
>> - cache: Git 제외, 필요시 data_handler로 재생성
>> - reports: Git 보존 (분석/검증 결과물)
>> - logs: Git 제외, 30일 보존 후 archive, 180일 삭제
>> - archives: 완료 문서 및 불필요 파일은 Archives 하위로 이동
>> - 보안: API Key는 D:\SecureKeys 또는 환경변수에서 불러오기, 절대 Git 포함 금지
>> '@
PS D:\GoogleDrive\Endeavour> Add-Content -Encoding UTF8 "docs\Migration_pack.md" "`r`n$handoffUpdate"
PS D:\GoogleDrive\Endeavour>
PS D:\GoogleDrive\Endeavour> # 4. Git 반영
PS D:\GoogleDrive\Endeavour> git add docs\IPD.md docs\Endeavour_Operating_Protocol.md docs\Migration_pack.md
warning: in the working copy of 'docs/Endeavour_Operating_Protocol.md', CRLF will be replaced by LF the next time Git touches it
warning: in the working copy of 'docs/IPD.md', CRLF will be replaced by LF the next time Git touches it
warning: in the working copy of 'docs/Migration_pack.md', CRLF will be replaced by LF the next time Git touches it
PS D:\GoogleDrive\Endeavour> git commit -m "docs: 보안·로그·캐시·리포트·Archives 관리 규칙 보강 (2025-10-04)"
[main 650acb8] docs: 보안·로그·캐시·리포트·Archives 관리 규칙 보강 (2025-10-04)
 3 files changed, 27 insertions(+)
PS D:\GoogleDrive\Endeavour> git push origin main
Enumerating objects: 11, done.
Counting objects: 100% (11/11), done.
Delta compression using up to 8 threads
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 1.73 KiB | 1.73 MiB/s, done.
Total 6 (delta 5), reused 0 (delta 0), pack-reused 0 (from 0)
remote: Resolving deltas: 100% (5/5), completed with 5 local objects.
To https://github.com/fleet1735/Endeavour.git
   38a1889..650acb8  main -> main
PS D:\GoogleDrive\Endeavour>