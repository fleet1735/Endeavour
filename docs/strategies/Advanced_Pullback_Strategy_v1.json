{
  "strategy_name": "Advanced_Pullback_Swing_v1",
  "author": "Commander & Gemini",
  "description": "정배열 상태의 주도주가 보이는 눌림목에서 1차 진입하고, 추가 하락 시 2차 분할 매수로 대응하는 스윙 전략.",
  "universe_filters": {
    "description": "백테스트 대상 종목군을 사전에 필터링하는 규칙",
    "exclude": ["is_admin_issue", "is_warning_issue", "is_etf_etn"]
  },
  "indicators": [
    { "name": "SMA60", "type": "SMA", "params": { "source": "Close", "window": 60 }},
    { "name": "SMA20", "type": "SMA", "params": { "source": "Close", "window": 20 }},
    { "name": "High10", "type": "CALCULATION", "params": { "formula": "High.rolling(10).max()" }},
    { "name": "Low10", "type": "CALCULATION", "params": { "formula": "Low.rolling(10).min()" }},
    { "name": "VolumeMA5", "type": "SMA", "params": { "source": "Volume", "window": 5 }},
    { "name": "VolumeMA20", "type": "SMA", "params": { "source": "Volume", "window": 20 }},
    { "name": "VolumeMA20_Value", "type": "CALCULATION", "params": { "formula": "(Close * Volume).rolling(20).mean()" }},
    { "name": "PrevHigh", "type": "CALCULATION", "params": { "formula": "High.shift(1)" }},
    { "name": "PrevLow", "type": "CALCULATION", "params": { "formula": "Low.shift(1)" }},
    { "name": "PrevClose", "type": "CALCULATION", "params": { "formula": "Close.shift(1)" }}
  ],
  "entry_rules": {
    "initial_entry": {
      "name": "매수_눌림목_스윙_A",
      "logic": "AND",
      "conditions": [
        { "left": "Close", "op": ">", "right": "SMA60" },
        { "left": "SMA20", "op": ">", "right": "SMA60" },
        { "left": "Close", "op": ">=", "right": "High10 * 0.80" },
        { "left": "Close", "op": "<=", "right": "High10 * 0.92" },
        { "left": "VolumeMA5", "op": "<", "right": "VolumeMA20 * 0.7" },
        {
          "logic": "OR",
          "conditions": [
            { "left": "Close", "op": ">", "right": "Open" },
            { "left": "High", "op": ">=", "right": "PrevHigh" }
          ]
        }
      ]
    },
    "scale_in": {
      "name": "매수_눌림목_스윙_B(2차)",
      "logic": "AND",
      "conditions": [
        { "left": "Close", "op": ">=", "right": "High10 * 0.78" },
        { "left": "Close", "op": "<=", "right": "High10 * 0.88" },
        { "left": "Low", "op": "<", "right": "PrevLow" },
        { "left": "Close", "op": ">=", "right": "PrevClose" }
      ]
    }
  },
  "exit_rules": {
    "take_profit": {
      "name": "매도_익절_저항근접_A",
      "logic": "AND",
      "conditions": [
        { "left": "Close", "op": ">", "right": "average_entry_price" },
        {
          "logic": "OR",
          "conditions": [
            { "left": "High", "op": ">=", "right": "High10.shift(1) * 0.99" },
            { "left": "Volume", "op": ">=", "right": "Volume.shift(1) * 1.5" },
            { "left": "Close/PrevClose - 1", "op": ">=", "right": "0.05" }
          ]
        }
      ]
    },
    "stop_loss": {
      "name": "매도_손절_지지이탈_A",
      "logic": "OR",
      "conditions": [
        { "left": "Close", "op": "<", "right": "SMA60" },
        { "left": "Close/PrevClose - 1", "op": "<=", "right": "-0.05" },
        { "left": "Low", "op": "<", "right": "PrevLow", "condition": "Volume >= VolumeMA5 * 2" }
      ]
    }
  },
  "optimization_config": {
    "enabled": false
  }
}